(function(a){a.fn.extend({elfRoll:function(i){var b=a(this);var h=a.extend({perSpeed:30,perDelay:0,perStep:1,direction:"left"},i);var d=parseInt(h.perSpeed);var g=parseInt(h.perDelay);var c=parseInt(h.perStep);var f=h.direction;if(!a.fn.smooth){a.fn.smooth=a.fn.animate;a.fn.smoothStop=a.fn.stop}var e=function(){var m=a(this);var k=m.find(".wrapCont");if(k.length===0){m.wrapInner("<div class='wrapCont'></div>");m.append(m.html());k=m.find(".wrapCont")}var j=function(){k.removeAttr("style");var n=parseInt(k.outerHeight());var o=function(){if(m[0]["isPause"]===true){return false}if(c>0&&m.scrollTop()>=n){m.scrollTop(m.scrollTop()-n)}if(c<0&&m.scrollTop()+c<=0){m.scrollTop(m.scrollTop()+n)}m.smoothStop(true,true).smooth({scrollTop:(parseInt(m.scrollTop())+c)},d,function(){if(m[0]["isPause"]===true){return false}m[0]["perMoveTimeout"]=setTimeout(o,g)},"Linear")};(n-Math.abs(c))<m.innerHeight()?k.eq(1).hide():k.eq(1).show();m.scrollLeft(0);m[0]["isPause"]=false;o();m.on("mouseleave",this,function(){m[0]["isPause"]=false;o()});m.on("mouseenter",this,function(){m[0]["isPause"]=true})};var l=function(){k.css({"float":"left"}).eq(1).css({"margin-left":k.outerWidth(),"margin-top":-k.outerHeight()});var p;var o=parseInt(k.outerWidth());var n=function(){if(m[0]["isPause"]===true){return false}if(c>0&&m.scrollLeft()>=o){m.scrollLeft(m.scrollLeft()-o)}if(c<0&&m.scrollLeft()+c<=0){m.scrollLeft(m.scrollLeft()+o)}m.smoothStop(true,true).smooth({scrollLeft:(parseInt(m.scrollLeft())+c)},d,function(){if(m[0]["isPause"]===true){return false}m[0]["perMoveTimeout"]=setTimeout(n,g)},"Linear")};(o-Math.abs(c))<m.innerWidth()?k.eq(1).hide():k.eq(1).show();m.scrollTop(0);m[0]["isPause"]=false;n();m.off("mouseleave",this).on("mouseleave",this,function(){m[0]["isPause"]=false;n()});m.off("mouseenter",this).on("mouseenter",this,function(){m[0]["isPause"]=true})};m[0]["isPause"]=true;m.smoothStop(true,true);if(typeof(m[0]["perMoveTimeout"]!=="undefined")){clearTimeout(m[0]["perMoveTimeout"])}m.off("mouseenter mouseleave").css({display:"block",overflow:"hidden"});k.show();switch(f){case ("up"):j();break;case ("down"):c=0-Math.abs(c);j();break;case ("left"):l();break;case ("right"):c=0-Math.abs(c);l();break;default:alert("\tdirection参数输入错误！\ndirection参数提示:up(默认)，down，left，right。\n已经恢复默认up。 ");j();break}};b.each(e);return this.each(function(){})},elfRollPause:function(){var b=function(){a(this)[0]["isPause"]=true};a(this).each(b);return this.each(function(){})},elfRollPlay:function(){var b=function(){a(this)[0]["isPause"]=false};a(this).each(b);return this.each(function(){})}})})(jQuery);